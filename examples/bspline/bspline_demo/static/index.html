<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
    <!-- Style params are based on the egui web demo. -->
    <style>
      html,
        body {
            overflow: hidden;
            margin: 0 !important;
            padding: 0 !important;
            height: 100%;
            width: 100%;
        }
        canvas {
            margin-right: auto;
            margin-left: auto;
            display: block;
            position: absolute;
            top: 0%;
            left: 50%;
            transform: translate(-50%, 0%);
        }
    </style>
  </head>
  <body>
    <canvas
      id="main_canvas"
      style="width: 100%; height: 100%; position: absolute; top: 0%"
    ></canvas>
    <div class="centered" id="debug_text"></div>

    <script type="module">
      import init, { WebHandle } from "./pkg/bspline_demo.js";
      init().then(() => {
        // Instantiate a handle to our wasm application.
        let handle = new WebHandle();
        handle.start("main_canvas").catch(on_error);
      });

      function on_error(error) {
        console.error("Failed to start: " + error);
        document.getElementById("main_canvas").remove();
        document.getElementById("debug_text").innerHTML = `
                <p>An error occurred during loading:</p>
                <p style="font-family:Courier New">
                    ${error}
                </p>
                <p style="font-size:14px">
                    Make sure you use a modern browser with WebGL and WASM enabled.
                </p>`;
      }
    </script>
  </body>
</html>
